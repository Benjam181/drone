ARM GAS  /var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"PID.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/PID.c"
  20              		.section	.text.PID_Init,"ax",%progbits
  21              		.align	1
  22              		.global	PID_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	PID_Init:
  28              	.LVL0:
  29              	.LFB0:
   1:Core/Src/PID.c **** #include "PID.h"
   2:Core/Src/PID.c **** 
   3:Core/Src/PID.c **** void PID_Init(PID *pid, float kp, float ki, float kd, float dt) {
  30              		.loc 1 3 65 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
   4:Core/Src/PID.c ****     pid->kp = kp;
  35              		.loc 1 4 5 view .LVU1
  36              		.loc 1 4 13 is_stmt 0 view .LVU2
  37 0000 80ED000A 		vstr.32	s0, [r0]
   5:Core/Src/PID.c ****     pid->ki = ki;
  38              		.loc 1 5 5 is_stmt 1 view .LVU3
  39              		.loc 1 5 13 is_stmt 0 view .LVU4
  40 0004 C0ED010A 		vstr.32	s1, [r0, #4]
   6:Core/Src/PID.c ****     pid->kd = kd;
  41              		.loc 1 6 5 is_stmt 1 view .LVU5
  42              		.loc 1 6 13 is_stmt 0 view .LVU6
  43 0008 80ED021A 		vstr.32	s2, [r0, #8]
   7:Core/Src/PID.c ****     pid->dt = dt;
  44              		.loc 1 7 5 is_stmt 1 view .LVU7
  45              		.loc 1 7 13 is_stmt 0 view .LVU8
  46 000c C0ED031A 		vstr.32	s3, [r0, #12]
   8:Core/Src/PID.c ****     pid->integral = 0.0f;
  47              		.loc 1 8 5 is_stmt 1 view .LVU9
  48              		.loc 1 8 19 is_stmt 0 view .LVU10
  49 0010 0023     		movs	r3, #0
  50 0012 0361     		str	r3, [r0, #16]	@ float
ARM GAS  /var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s 			page 2


   9:Core/Src/PID.c ****     pid->previous_error = 0.0f;
  51              		.loc 1 9 5 is_stmt 1 view .LVU11
  52              		.loc 1 9 25 is_stmt 0 view .LVU12
  53 0014 4361     		str	r3, [r0, #20]	@ float
  10:Core/Src/PID.c ****     pid->anti_windup = 100.0f; // Initialize anti-windup term
  54              		.loc 1 10 5 is_stmt 1 view .LVU13
  55              		.loc 1 10 22 is_stmt 0 view .LVU14
  56 0016 014B     		ldr	r3, .L2
  57 0018 8361     		str	r3, [r0, #24]	@ float
  11:Core/Src/PID.c **** }
  58              		.loc 1 11 1 view .LVU15
  59 001a 7047     		bx	lr
  60              	.L3:
  61              		.align	2
  62              	.L2:
  63 001c 0000C842 		.word	1120403456
  64              		.cfi_endproc
  65              	.LFE0:
  67              		.section	.text.PID_Compute,"ax",%progbits
  68              		.align	1
  69              		.global	PID_Compute
  70              		.syntax unified
  71              		.thumb
  72              		.thumb_func
  74              	PID_Compute:
  75              	.LVL1:
  76              	.LFB1:
  12:Core/Src/PID.c **** 
  13:Core/Src/PID.c **** float PID_Compute(PID *pid, float setpoint, float measured_value) {
  77              		.loc 1 13 67 is_stmt 1 view -0
  78              		.cfi_startproc
  79              		@ args = 0, pretend = 0, frame = 0
  80              		@ frame_needed = 0, uses_anonymous_args = 0
  81              		@ link register save eliminated.
  14:Core/Src/PID.c ****     // Calculate error
  15:Core/Src/PID.c ****     float error = setpoint - measured_value;
  82              		.loc 1 15 5 view .LVU17
  83              		.loc 1 15 11 is_stmt 0 view .LVU18
  84 0000 70EE600A 		vsub.f32	s1, s0, s1
  85              	.LVL2:
  16:Core/Src/PID.c **** 
  17:Core/Src/PID.c ****     // Proportional term
  18:Core/Src/PID.c ****     float proportional = pid->kp * error;
  86              		.loc 1 18 5 is_stmt 1 view .LVU19
  87              		.loc 1 18 29 is_stmt 0 view .LVU20
  88 0004 D0ED006A 		vldr.32	s13, [r0]
  89              		.loc 1 18 11 view .LVU21
  90 0008 66EEA06A 		vmul.f32	s13, s13, s1
  91              	.LVL3:
  19:Core/Src/PID.c **** 
  20:Core/Src/PID.c ****     // Integral term
  21:Core/Src/PID.c ****     pid->integral += pid->ki * error * pid->dt;
  92              		.loc 1 21 5 is_stmt 1 view .LVU22
  93              		.loc 1 21 8 is_stmt 0 view .LVU23
  94 000c 90ED047A 		vldr.32	s14, [r0, #16]
  95              		.loc 1 21 25 view .LVU24
  96 0010 D0ED017A 		vldr.32	s15, [r0, #4]
ARM GAS  /var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s 			page 3


  97              		.loc 1 21 30 view .LVU25
  98 0014 67EEA07A 		vmul.f32	s15, s15, s1
  99              		.loc 1 21 43 view .LVU26
 100 0018 90ED036A 		vldr.32	s12, [r0, #12]
 101              		.loc 1 21 38 view .LVU27
 102 001c 67EE867A 		vmul.f32	s15, s15, s12
 103              		.loc 1 21 19 view .LVU28
 104 0020 77EE277A 		vadd.f32	s15, s14, s15
 105 0024 C0ED047A 		vstr.32	s15, [r0, #16]
  22:Core/Src/PID.c **** 
  23:Core/Src/PID.c ****     // Anti-windup
  24:Core/Src/PID.c ****     if (pid->integral > pid->anti_windup) {
 106              		.loc 1 24 5 is_stmt 1 view .LVU29
 107              		.loc 1 24 28 is_stmt 0 view .LVU30
 108 0028 90ED067A 		vldr.32	s14, [r0, #24]
 109              		.loc 1 24 8 view .LVU31
 110 002c F4EEC77A 		vcmpe.f32	s15, s14
 111 0030 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 112 0034 14DD     		ble	.L11
  25:Core/Src/PID.c ****         pid->integral = pid->anti_windup;
 113              		.loc 1 25 9 is_stmt 1 view .LVU32
 114              		.loc 1 25 23 is_stmt 0 view .LVU33
 115 0036 80ED047A 		vstr.32	s14, [r0, #16]
 116              	.L7:
  26:Core/Src/PID.c ****     } else if (pid->integral < -pid->anti_windup) {
  27:Core/Src/PID.c ****         pid->integral = -pid->anti_windup;
  28:Core/Src/PID.c ****     }
  29:Core/Src/PID.c **** 
  30:Core/Src/PID.c ****     // Derivative term
  31:Core/Src/PID.c ****     float derivative = pid->kd * (error - pid->previous_error) / pid->dt;
 117              		.loc 1 31 5 is_stmt 1 view .LVU34
 118              		.loc 1 31 27 is_stmt 0 view .LVU35
 119 003a D0ED027A 		vldr.32	s15, [r0, #8]
 120              		.loc 1 31 46 view .LVU36
 121 003e 90ED057A 		vldr.32	s14, [r0, #20]
 122              		.loc 1 31 41 view .LVU37
 123 0042 30EEC77A 		vsub.f32	s14, s1, s14
 124              		.loc 1 31 32 view .LVU38
 125 0046 67EE877A 		vmul.f32	s15, s15, s14
 126              		.loc 1 31 11 view .LVU39
 127 004a 87EE860A 		vdiv.f32	s0, s15, s12
 128              	.LVL4:
  32:Core/Src/PID.c **** 
  33:Core/Src/PID.c ****     // Update previous error
  34:Core/Src/PID.c ****     pid->previous_error = error;
 129              		.loc 1 34 5 is_stmt 1 view .LVU40
 130              		.loc 1 34 25 is_stmt 0 view .LVU41
 131 004e C0ED050A 		vstr.32	s1, [r0, #20]
  35:Core/Src/PID.c **** 
  36:Core/Src/PID.c ****     // Compute output
  37:Core/Src/PID.c ****     return proportional + pid->integral + derivative;
 132              		.loc 1 37 5 is_stmt 1 view .LVU42
 133              		.loc 1 37 30 is_stmt 0 view .LVU43
 134 0052 D0ED047A 		vldr.32	s15, [r0, #16]
 135              		.loc 1 37 25 view .LVU44
 136 0056 77EEA67A 		vadd.f32	s15, s15, s13
  38:Core/Src/PID.c **** }
ARM GAS  /var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s 			page 4


 137              		.loc 1 38 1 view .LVU45
 138 005a 37EE800A 		vadd.f32	s0, s15, s0
 139              	.LVL5:
 140              		.loc 1 38 1 view .LVU46
 141 005e 7047     		bx	lr
 142              	.LVL6:
 143              	.L11:
  26:Core/Src/PID.c ****         pid->integral = -pid->anti_windup;
 144              		.loc 1 26 12 is_stmt 1 view .LVU47
  26:Core/Src/PID.c ****         pid->integral = -pid->anti_windup;
 145              		.loc 1 26 32 is_stmt 0 view .LVU48
 146 0060 B1EE477A 		vneg.f32	s14, s14
  26:Core/Src/PID.c ****         pid->integral = -pid->anti_windup;
 147              		.loc 1 26 15 view .LVU49
 148 0064 F4EEC77A 		vcmpe.f32	s15, s14
 149 0068 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 150 006c E5D5     		bpl	.L7
  27:Core/Src/PID.c ****     }
 151              		.loc 1 27 9 is_stmt 1 view .LVU50
  27:Core/Src/PID.c ****     }
 152              		.loc 1 27 23 is_stmt 0 view .LVU51
 153 006e 80ED047A 		vstr.32	s14, [r0, #16]
 154 0072 E2E7     		b	.L7
 155              		.cfi_endproc
 156              	.LFE1:
 158              		.section	.text.PID_Reset,"ax",%progbits
 159              		.align	1
 160              		.global	PID_Reset
 161              		.syntax unified
 162              		.thumb
 163              		.thumb_func
 165              	PID_Reset:
 166              	.LVL7:
 167              	.LFB2:
  39:Core/Src/PID.c **** void PID_Reset(PID *pid) {
 168              		.loc 1 39 26 is_stmt 1 view -0
 169              		.cfi_startproc
 170              		@ args = 0, pretend = 0, frame = 0
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 172              		@ link register save eliminated.
  40:Core/Src/PID.c ****     pid->integral = 0.0f;
 173              		.loc 1 40 5 view .LVU53
 174              		.loc 1 40 19 is_stmt 0 view .LVU54
 175 0000 0023     		movs	r3, #0
 176 0002 0361     		str	r3, [r0, #16]	@ float
  41:Core/Src/PID.c ****     pid->previous_error = 0.0f;
 177              		.loc 1 41 5 is_stmt 1 view .LVU55
 178              		.loc 1 41 25 is_stmt 0 view .LVU56
 179 0004 4361     		str	r3, [r0, #20]	@ float
  42:Core/Src/PID.c **** }
 180              		.loc 1 42 1 view .LVU57
 181 0006 7047     		bx	lr
 182              		.cfi_endproc
 183              	.LFE2:
 185              		.section	.text.PID_SetGains,"ax",%progbits
 186              		.align	1
 187              		.global	PID_SetGains
ARM GAS  /var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s 			page 5


 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 192              	PID_SetGains:
 193              	.LVL8:
 194              	.LFB3:
  43:Core/Src/PID.c **** void PID_SetGains(PID *pid, float kp, float ki, float kd) {
 195              		.loc 1 43 59 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 0
 198              		@ frame_needed = 0, uses_anonymous_args = 0
 199              		@ link register save eliminated.
  44:Core/Src/PID.c ****     pid->kp = kp;
 200              		.loc 1 44 5 view .LVU59
 201              		.loc 1 44 13 is_stmt 0 view .LVU60
 202 0000 80ED000A 		vstr.32	s0, [r0]
  45:Core/Src/PID.c ****     pid->ki = ki;
 203              		.loc 1 45 5 is_stmt 1 view .LVU61
 204              		.loc 1 45 13 is_stmt 0 view .LVU62
 205 0004 C0ED010A 		vstr.32	s1, [r0, #4]
  46:Core/Src/PID.c ****     pid->kd = kd;
 206              		.loc 1 46 5 is_stmt 1 view .LVU63
 207              		.loc 1 46 13 is_stmt 0 view .LVU64
 208 0008 80ED021A 		vstr.32	s2, [r0, #8]
  47:Core/Src/PID.c **** }
 209              		.loc 1 47 1 view .LVU65
 210 000c 7047     		bx	lr
 211              		.cfi_endproc
 212              	.LFE3:
 214              		.section	.text.PID_SetTimeStep,"ax",%progbits
 215              		.align	1
 216              		.global	PID_SetTimeStep
 217              		.syntax unified
 218              		.thumb
 219              		.thumb_func
 221              	PID_SetTimeStep:
 222              	.LVL9:
 223              	.LFB4:
  48:Core/Src/PID.c **** void PID_SetTimeStep(PID *pid, float dt) {
 224              		.loc 1 48 42 is_stmt 1 view -0
 225              		.cfi_startproc
 226              		@ args = 0, pretend = 0, frame = 0
 227              		@ frame_needed = 0, uses_anonymous_args = 0
 228              		@ link register save eliminated.
  49:Core/Src/PID.c ****     pid->dt = dt;
 229              		.loc 1 49 5 view .LVU67
 230              		.loc 1 49 13 is_stmt 0 view .LVU68
 231 0000 80ED030A 		vstr.32	s0, [r0, #12]
  50:Core/Src/PID.c **** }
 232              		.loc 1 50 1 view .LVU69
 233 0004 7047     		bx	lr
 234              		.cfi_endproc
 235              	.LFE4:
 237              		.section	.text.PID_pitch,"ax",%progbits
 238              		.align	1
 239              		.global	PID_pitch
 240              		.syntax unified
ARM GAS  /var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s 			page 6


 241              		.thumb
 242              		.thumb_func
 244              	PID_pitch:
 245              	.LVL10:
 246              	.LFB5:
  51:Core/Src/PID.c **** 
  52:Core/Src/PID.c **** void PID_pitch(float setpoint_pitch, float measured_pitch) {
 247              		.loc 1 52 60 is_stmt 1 view -0
 248              		.cfi_startproc
 249              		@ args = 0, pretend = 0, frame = 0
 250              		@ frame_needed = 0, uses_anonymous_args = 0
 251              		@ link register save eliminated.
  53:Core/Src/PID.c ****     
  54:Core/Src/PID.c **** }
 252              		.loc 1 54 1 view .LVU71
 253 0000 7047     		bx	lr
 254              		.cfi_endproc
 255              	.LFE5:
 257              		.text
 258              	.Letext0:
 259              		.file 2 "Core/Inc/PID.h"
ARM GAS  /var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 PID.c
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:21     .text.PID_Init:00000000 $t
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:27     .text.PID_Init:00000000 PID_Init
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:63     .text.PID_Init:0000001c $d
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:68     .text.PID_Compute:00000000 $t
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:74     .text.PID_Compute:00000000 PID_Compute
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:159    .text.PID_Reset:00000000 $t
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:165    .text.PID_Reset:00000000 PID_Reset
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:186    .text.PID_SetGains:00000000 $t
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:192    .text.PID_SetGains:00000000 PID_SetGains
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:215    .text.PID_SetTimeStep:00000000 $t
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:221    .text.PID_SetTimeStep:00000000 PID_SetTimeStep
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:238    .text.PID_pitch:00000000 $t
/var/folders/jp/0qc3z4h55h9f6h172k8821nw0000gn/T//ccL3x6Mr.s:244    .text.PID_pitch:00000000 PID_pitch

NO UNDEFINED SYMBOLS
